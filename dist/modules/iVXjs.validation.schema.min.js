(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfigValidation=void 0;var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),_validation=require("./validation.js"),_configStates=require("./config.states.js"),ConfigValidation=exports.ConfigValidation=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);var a=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.config=t,a}return _inherits(e,t),_createClass(e,[{key:"validationArray",get:function(){return[this.hasStatesObj,this.hasDefaultStateObj,this.validDefaultStateObj,this.validStateConfig]}},{key:"validStateConfig",get:function(){var t=new _configStates.ConfigStatesValidation(this.config.states),e=t.valid,a=t.errors;return e||this.addErrors(a),{valid:e,error:{type:"invalid",path:"config.states",message:"Experience requires that all states are valid"}}}},{key:"validDefaultStateObj",get:function(){var t=this.hasDefaultStateObj.valid;if(t){var e=this.config.defaultState,a=e.length-1,i=e[a];return{valid:i.stateId&&i.stateId.length>=0,error:{type:"missing",path:"config.defaultState["+a+"].stateId"}}}}},{key:"hasDefaultStateObj",get:function(){var t=this.config.defaultState,e=void 0===t?[]:t,a="undefined"!=typeof e&&e.length>=1;return{valid:a,error:{type:"missing",path:"config.defaultState"},data:e}}},{key:"hasStatesObj",get:function(){var t=this.config.states;return{valid:"undefined"!=typeof t&&t.length>=1,error:{type:"missing",path:"config.states"},data:t}}}]),e}(_validation.Validation);

},{"./config.states.js":2,"./validation.js":6}],2:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfigStatesValidation=void 0;var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),_typeParsers=require("../../../utilities/type-parsers.js"),_validation=require("./validation.js"),objectParsers=new _typeParsers.ObjectParsers,typeValidator=new _typeParsers.TypeValidator,ConfigStatesValidation=exports.ConfigStatesValidation=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.states=t,r}return _inherits(e,t),_createClass(e,[{key:"convertToConfigErrorObjs",value:function(t,e){return t.map(function(t){var r=t.key,a=t.value,i=t.index,n={type:e,path:"config.states["+i+"]."+r};return"duplicate"===e&&(n.message="Duplicate value: "+a),{valid:!1,error:n}})}},{key:"validationArray",get:function(){return[this.uniqueValidStateData,this.filledValidStateData]}},{key:"filledValidStateData",get:function(){var t=objectParsers.anyEmpty(this.states,["id","url","type"]),e=t.errors,r=void 0===e?[]:e,a=t.isEmpty;return a&&this.addErrors(this.convertToConfigErrorObjs(r,"missing")),{valid:!a,error:{path:"config.states",message:"Not all state's have an id, url, and/or type",type:"invalid"},data:this.states}}},{key:"uniqueValidStateData",get:function(){var t=objectParsers.isUnique(this.states,["id","url"]),e=t.errors,r=void 0===e?[]:e,a=t.isUnique;return a||this.addErrors(this.convertToConfigErrorObjs(r,"duplicate")),{valid:a,error:{path:"config.states",message:"Not all state's ids and urls are unique",type:"invalid"},data:this.states}}}]),e}(_validation.Validation);

},{"../../../utilities/type-parsers.js":18,"./validation.js":6}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExperienceValidation=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_validation=require("./validation.js"),ExperienceValidation=exports.ExperienceValidation=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.experience=e,n}return _inherits(t,e),_createClass(t,[{key:"validationArray",get:function(){return[this.validAnimateElementObj,this.validSetDataObj]}},{key:"validAnimateElementObj",get:function(){var e=this.experience.animateElement;return{valid:"undefined"!=typeof e,error:{path:"experience.animateElement",type:"missing"},data:e}}},{key:"validSetDataObj",get:function(){var e=this.experience.setData;return{valid:"undefined"!=typeof e,error:{path:"experience.setData",type:"missing"},data:e}}}]),t}(_validation.Validation);

},{"./validation.js":6}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iVXjsValidation=void 0;var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),_typeParsers=require("../../../utilities/type-parsers.js"),_validation=require("./validation.js"),_experience=require("./experience.js"),_modules=require("./modules.js"),_config=require("./config.js"),objectParsers=new _typeParsers.ObjectParsers,typeValidator=new _typeParsers.TypeValidator,iVXjsValidation=exports.iVXjsValidation=function(e){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.data=e,t.valid||(t.error={message:t.collectErrorMessages(),data:t.data,errors:t.errors}),t}return _inherits(r,e),_createClass(r,[{key:"collectErrorMessages",value:function(){return this.errors.reverse().reduce(function(e,r){var t=r.error;return e+"\nTYPE: "+(t.type?t.type:"ERROR")+"  PATH: "+t.path+" "+(t.message&&t.message.length>0?"MESSAGE: "+t.message:"")},"")}},{key:"validationArray",get:function(){var e=[this.ruleValidationObj,this.experienceValidationObj,this.configValidationObj];return e}},{key:"configValidationObj",get:function(){var e=this.data.config,r=new _config.ConfigValidation(e),t=r.valid,i=r.errors;return t||this.addErrors(i),{valid:t,error:{path:"config",message:"An experience must have a valid config",type:"invalid"}}}},{key:"experienceValidationObj",get:function(){var e=this.data.experience,r=new _experience.ExperienceValidation(e),t=r.valid,i=r.errors;return t||this.addErrors(i),{valid:t,error:{path:"experience",message:"An experience must not have any errors",type:"invalid"},data:e}}},{key:"ruleValidationObj",get:function(){var e=this.data.rules;return{valid:"undefined"!=typeof e,error:{name:"Missing Rules:",message:"The function rules needs to be defined in the experience."},data:e}}}]),r}(_validation.Validation);

},{"../../../utilities/type-parsers.js":18,"./config.js":1,"./experience.js":3,"./modules.js":5,"./validation.js":6}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleValidation=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_validation=require("./validation.js"),_typeParsers=require("../../../utilities/type-parsers.js"),debug=!0,ModuleValidation=exports.ModuleValidation=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.experience=e,r.typeValidator=new _typeParsers.TypeValidator,r}return _inherits(t,e),_createClass(t,[{key:"validationArray",get:function(){var e=[this.validUIModuleObj];return e}},{key:"validUIModuleObj",get:function(){var e=this.experience.ui;return{valid:"undefined"!=typeof e&&this.typeValidator.isString(e)&&e.length>0,error:{path:"ui",type:"missing"},data:e}}}]),t}(_validation.Validation);

},{"../../../utilities/type-parsers.js":18,"./validation.js":6}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),Validation=exports.Validation=function(){function e(){_classCallCheck(this,e),this.errors=[]}return _createClass(e,[{key:"addErrors",value:function(e){var r=this;e.forEach(function(e){r.errors.push(e)})}},{key:"validationArray",get:function(){return[]}},{key:"valid",get:function(){var e=this;return this.validationArray.reduce(function(r,n){return n?("boolean"!=typeof n.valid||n.valid||e.errors.push(n),r&&n.valid):r},!0)}}]),e}();

},{}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function initializeSchemaValidation(e){return SchemaValidation}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SchemaValidation=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_index=require("../ivx-js-validation/index.js"),_baseStructure=require("./schemas/base-structure.js"),_statesTypes=require("./schemas/states.types.js"),SchemaValidation=exports.SchemaValidation=function(){function e(t){_classCallCheck(this,e),this.error={},this.data=t,this.hasValidationLibrary.valid?this.valid||(this.error={message:this.collectErrorMessages(),data:this.data,errors:this.errors}):this.error={message:this.hasValidationLibrary.error.message,data:this.data,errors:[this.hasValidationLibrary]}}return _createClass(e,[{key:"createErrorMessage",value:function(e){function t(e){var t=e.subErrors;return t.reduce(function(e,t,r){return e+"\n                "+t.message+"<br>"},"<strong>The data violates ONE of the following requirements:</strong><br>")}var r=e.code;switch(r){case 11:return t(e);default:return e.message}}},{key:"createPath",value:function(e){var t=this.data.config,r=e.split("/"),a=t,i=r.reduce(function(e,t,r){if(t.length<=0)return e;if(e.length<=0)return a=a[t],""+t;if(!isNaN(t)){var i=parseInt(t);return a=a[i],e+"["+t+"]"}return a=a[t],e+"."+t},"");return{pathString:i,data:a}}},{key:"collectErrorMessages",value:function(){var e=this;return this.errors.reduce(function(t,r){return t+"\n        TYPE: "+e.getErrorCode(r.code)+"  PATH: "+r.path.pathString+" MESSAGE : "+r.message},"")}},{key:"getErrorCode",value:function(e){var t=Object.values(tv4.errorCodes),r=Object.keys(tv4.errorCodes),a="";return t.forEach(function(t,i){t===e&&(a=r[i])}),a}},{key:"valid",get:function(){return this.errors.length<=0}},{key:"errors",get:function(){var e=this.baseValidate,t=this.stateTypesValidation,r=(this.data,this.config,this),a=[];e.errors.forEach(function(e,t){a.push(e)}),t.forEach(function(e,t){a.push(e)});var i=a.map(function(e,t){return{message:r.createErrorMessage(e),path:r.createPath(""+e.dataPath),type:r.getErrorCode(e.code)}});return i}},{key:"baseValidate",get:function(){var e=this.data.config;return new _baseStructure.BaseStructure(e).validate()}},{key:"stateTypesValidation",get:function(){var e=this.data.config.states;return new _statesTypes.StatesTypes(e).validate()}},{key:"hasValidationLibrary",get:function(){return{valid:"undefined"!=typeof tv4,error:{path:"init()",message:"Schema validation required the 'tv4' library (https://github.com/geraintluff/tv4)",type:"missing"}}}}]),e}();module.export=initializeSchemaValidation,angular&&angular.module("ivx-js")&&angular.module("ivx-js").constant("iVXjs.validation.schema",initializeSchemaValidation);

},{"../ivx-js-validation/index.js":4,"./schemas/base-structure.js":8,"./schemas/states.types.js":15}],8:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseStructure=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),_rules=require("./rules.js"),_states=require("./states.js"),BaseStructure=exports.BaseStructure=function(){function e(t){_classCallCheck(this,e),this.config=t,this.rulesSchema=new _rules.Rules(t).schema,this.stateSchema=new _states.States(t).schema}return _createClass(e,[{key:"validate",value:function(){return tv4.validateMultiple(this.config,this.schema)}},{key:"schema",get:function(){return this.baseStructure}},{key:"baseStructure",get:function(){return{type:"object",properties:this.properties,required:this.requiredKeys}}},{key:"properties",get:function(){return{defaultState:{type:"array",items:this.rulesSchema},states:{type:"array",items:this.stateSchema,minItems:"1"}}}},{key:"requiredKeys",get:function(){return["defaultState","states"]}}]),e}();

},{"./rules.js":11,"./states.js":12}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),HTMLObject=exports.HTMLObject=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"generalHTMLSchema",get:function(){return{type:"object",properties:{html:{type:"string"},classes:{type:"string"},templateUrl:{type:"string"}}}}},{key:"labelHTMLSchema",get:function(){}}]),e}();

},{}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),InputErrors=exports.InputErrors=function(){function e(t,r){_classCallCheck(this,e),this.inputs=t,this.currentState=r}return _createClass(e,[{key:"validate",value:function(){var e=this.inputs,t=this.inputSchemas,r=e.reduce(function(e,r,n){var i=r.type;if(i&&t[i]){var a=tv4.validateMultiple(r,t[i]).errors;a.forEach(function(t,r){t.dataPath="/inputs/"+n+(t.dataPath.length>0?t.dataPath:""),e.push(t)})}return e},[]);return r}},{key:"inputSchemas",get:function(){return{buttons:this.buttonsSchema,checkbox:this.checkboxSchema,date:this.dateSchema,"datetime-local":this.datetimeLocalSchema,email:this.textSchema,number:this.numberSchema,options:this.optionsSchema,radio:this.radioSchema,text:this.textSchema,textarea:this.textSchema,url:this.textSchema}}},{key:"buttonsSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["buttons"]},settings:{type:"object",properties:{showLabel:{type:"boolean"}}},buttons:{type:"array",items:{type:"object",properties:{label:{type:"string"},labelHTML:{type:"string"},labelTemplateUrl:{type:"string"},classes:{type:"string"},onClick:{type:"array",items:{type:"object",properties:{eventName:{type:"string"}}}}},required:["value"]},minItems:1}}}}},{key:"checkboxSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["checkbox"]}}}}},{key:"dateSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["date"]},attributes:{type:"object",properties:{min:{type:"string",pattern:"/^[0-9]{2}/[0-9]{2}/[0-9]{4}$/"},max:{type:"string",pattern:"/^[0-9]{2}/[0-9]{2}/[0-9]{4}$/"}}}}}}},{key:"datetimeLocalSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["datetime-local"]},attributes:{type:"object",properties:{min:{type:"string",pattern:"/^[0-9]{2}/[0-9]{2}/[0-9]{4}$/"},max:{type:"string",pattern:"/^[0-9]{2}/[0-9]{2}/[0-9]{4}$/"}}}}}}},{key:"numberSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["number"]},attributes:{type:"object",properties:{placeholder:{type:"string"},min:{type:"number"},max:{type:"number"},step:{type:"number",minimum:0,exclusiveMinimum:!0}}}}}}},{key:"optionsSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["options"]},defaultDisplay:{type:"string"},options:{type:"array",minItems:2,items:{type:"object",properties:{value:{type:"string",minLength:1},display:{type:"string",minLength:1}},required:["value","display"]}}}}}},{key:"radioSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["radio"]},radioButtons:{type:"array",items:{type:"object",properties:{value:{type:"string",minLength:1},label:{type:"string",minLength:1},labelHTML:{type:"string",minLength:1},labelTemplateUrl:{type:"string",minLength:1},classes:{type:"string"}},required:["value"],oneOf:[{required:["label"]},{required:["labelHTML"]},{required:["labelTemplateUrl"]}]},minItems:2}}}}},{key:"textSchema",get:function(){return{type:"object",properties:{type:{type:"string",enum:["text","email","url","textarea"]}}}}}]),e}();

},{}],11:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Rules=exports.Rules=function(){function e(t){_classCallCheck(this,e),this.config=t}return _createClass(e,[{key:"stateIdEnums",get:function(){var e=this.config.states,t=void 0===e?[]:e,r=t.map(function(e,t){return e.id});return r}},{key:"rulesRequired",get:function(){}},{key:"schema",get:function(){return{type:"object",name:"Rule Schema",properties:{stateId:{type:"string",enum:this.stateIdEnums},rules:{type:"array"},rule:{type:"object",properties:{key:{type:"string",minLength:1},is:{type:"string",enum:["lt","lte","gt","gte","equals","notEquals"]},value:{type:["string","number","boolean","object","array"]}},required:this.rulesRequired}},required:["stateId"]}}}]),e}();

},{}],12:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.States=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_rules=require("./rules.js"),_htmlObject=require("./html-object"),States=exports.States=function(){function e(t){_classCallCheck(this,e),this.rulesSchema=new _rules.Rules(t).schema,this.generalHTMLSchema=(new _htmlObject.HTMLObject).generalHTMLSchema}return _createClass(e,[{key:"stateRequired",get:function(){return["id","name","url","type"]}},{key:"typeEnum",get:function(){return["navigation","video","input","html"]}},{key:"stateProperties",get:function(){return{id:{type:"string",minLength:1},name:{type:"string",minLength:1},url:{type:"string",pattern:"/^(/[A-Za-z0-9-]*)$/",minLength:1},audio:{type:"object",properties:{src:{type:"string",minLength:1},loop:{type:"boolean"},cuePoints:{type:"array"}},required:["src"]},type:{type:"string",enum:this.typeEnum},next:{type:"array",items:this.rulesSchema},onEnter:{type:"array"},onExit:{type:"array"},header:this.generalHTMLSchema,footer:this.generalHTMLSchema}}},{key:"schema",get:function(){return{type:"object",name:"state",properties:this.stateProperties,required:this.stateRequired}}}]),e}();

},{"./html-object":9,"./rules.js":11}],13:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),HTMLStateSchema=exports.HTMLStateSchema=function(){function e(t){_classCallCheck(this,e),this.state=t}return _createClass(e,[{key:"validate",value:function(){return tv4.validateMultiple(this.state,this.schema)}},{key:"requiredProperties",get:function(){return["html"]}},{key:"schema",get:function(){return{type:"object",properties:{html:{type:"string"},templateUrl:{type:"string"},timeoutInMs:{type:"number"}},oneOf:[{required:["html"]},{required:["templateUrl"]}]}}}]),e}();

},{}],14:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputStateSchema=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_inputs=require("./inputs.js"),InputStateSchema=exports.InputStateSchema=function(){function e(t,r){_classCallCheck(this,e),this.state=t,this.index=r}return _createClass(e,[{key:"validate",value:function(){var e=[tv4.validateMultiple(this.state,this.schema),this.inputErrors].reduce(function(e,t,r){var n=t.errors;return n.forEach(function(t,r){e.push(t)}),e},[]);return{errors:e}}},{key:"inputErrors",get:function(){var e=this.index,t=this.state.inputs,r=void 0===t?[]:t,n=new _inputs.InputErrors(r,e).validate();return{errors:n}}},{key:"schema",get:function(){return{type:"object",properties:{form:{type:"object",properties:{classes:{type:"string"},label:{type:"string"},labelHTML:{type:"string"},labelTemplateUrl:{type:"string"},submit:{type:"object",properties:{classes:{type:"string"},label:{type:"string"},labelHTML:{type:"string"},labelTemplateUrl:{type:"string"}}}}},onSubmit:{type:"array",items:{type:"object"}},inputs:{type:"array",minItems:1,items:{type:"object",properties:{id:{type:"string",minLength:1},name:{type:"string",minLength:1},type:{type:"string"},errors:{type:"object"},label:{type:"string"},labelHTML:{type:"string"},labelTemplateUrl:{type:"string"},settings:{type:"object",properties:{input:{type:"object",properties:{classes:{type:"string"}}},container:{type:"object",properties:{classes:{type:"string"}}},width:{type:"string"}}},attributes:{type:"object",properties:{required:{type:"boolean"},placeholder:{type:"string"},minlength:{type:"number"},maxlength:{type:"number"}}},onChange:{type:"array",items:{type:"object"}}},required:["id","name","type"]}}},required:["inputs"]}}}]),e}();

},{"./inputs.js":10}],15:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatesTypes=void 0;var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),_statesTypesHtml=require("./states.types.html.js"),_statesTypesVideo=require("./states.types.video.js"),_statesTypesInput=require("./states.types.input.js"),_statesTypesNavigation=require("./states.types.navigation.js"),StatesTypes=exports.StatesTypes=function(){function t(e){_classCallCheck(this,t),this.states=e}return _createClass(t,[{key:"validate",value:function(){var t=this.states,e=this.typesSchemas,a=t.reduce(function(t,a,s){var n=a.type;if(n&&e[n]){var r=new e[n](a,s).validate(),i=r.errors;i.forEach(function(e,a){var n=e;n.dataPath="states/"+s+(n.dataPath.length>0?n.dataPath:""),t.push(e)})}return t},[]);return a}},{key:"typesSchemas",get:function(){return{html:_statesTypesHtml.HTMLStateSchema,video:_statesTypesVideo.VideoStateSchema,input:_statesTypesInput.InputStateSchema,navigation:_statesTypesNavigation.NavigationStateSchema}}}]),t}();

},{"./states.types.html.js":13,"./states.types.input.js":14,"./states.types.navigation.js":16,"./states.types.video.js":17}],16:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),NavigationStateSchema=exports.NavigationStateSchema=function(){function e(t,r){_classCallCheck(this,e),this.state=t,this.index=r}return _createClass(e,[{key:"validate",value:function(){return tv4.validateMultiple(this.state,this.schema)}},{key:"schema",get:function(){return{type:"object",properties:{links:{type:"array",minItems:1,items:{type:"object",properties:{href:{type:"string"},label:{type:"string"},labelHTML:{type:"string"},labelTemplateUrl:{type:"string"},attributes:{type:"object",properties:{target:{type:"string",enum:["_blank"]}}},onClick:{type:"array"}},required:["href"]}}},required:["links"]}}}]),e}();

},{}],17:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),VideoStateSchema=exports.VideoStateSchema=function(){function e(t){_classCallCheck(this,e),this.state=t}return _createClass(e,[{key:"validate",value:function(){return tv4.validateMultiple(this.state,this.schema)}},{key:"schema",get:function(){return{type:"object",properties:{playerSettings:{type:"object",properties:{autoplay:{type:"boolean"},controls:{type:["boolean","string"]},attributes:{type:"object"},src:{type:"string"},sources:{type:"array",items:[{type:"object",properties:{type:{type:"string",enum:["video/mp4","video/webm","video/ogg"]},src:{type:"string"}},required:["src","type"]}],minItems:"1"},tracks:{type:"array",items:[{type:"object",properties:{src:{type:"string"},kind:{type:"string"},default:{type:"boolean"}},required:["src"]}]}},oneOf:[{required:["src"]},{required:["sources"]},{required:["vimeoId"]},{required:["youtubeId"]}]},personalizations:{type:"array",items:{type:"object",properties:{id:{type:"string"},html:{type:"string"},templateUrl:{type:"string"}},required:["id"],oneOf:[{required:["html"]},{required:["templateUrl"]}]}},cuePoints:{type:"array",items:{type:"object",properties:{timeAt:{type:"number",minimum:0}},required:["timeAt"]}}},required:["playerSettings"]}}}]),e}();

},{}],18:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),TypeValidator=exports.TypeValidator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isObject",value:function(e){var n="undefined"==typeof e?"undefined":_typeof(e);return null!=e&&("object"==n||"function"==n)}},{key:"isUndefined",value:function(e){return void 0===e||null===e}},{key:"isString",value:function(e){return"[object String]"===this.toString.call(e)}},{key:"isFunction",value:function(e){return e&&"[object Function]"===this.toString.call(e)}},{key:"isNumber",value:function(e){return!isNaN(e)}},{key:"isBoolean",value:function(e){return"boolean"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"boolean"==typeof e.valueOf()}},{key:"isEmpty",value:function(e){var n=Object.prototype.hasOwnProperty,t=Array.isArray(e),r="string"==typeof e,o=t||r;if(o&&0===e.length)return!0;if(o&&e.length>0)return!1;if(!isNaN(e))return!1;if(void 0===e)return!0;if(null===e)return!0;for(var i in e)if(n.call(e,i))return!1;return!0}},{key:"toString",get:function(){return Object.prototype.toString}}]),e}(),typeValidator=new TypeValidator,ObjectParsers=exports.ObjectParsers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"mapKeys",value:function(e,n){if(!e||e==={})return[];var t=Object.keys(e),r=t.reduce(function(n,t){var r=[t,e[t]];return n.push(r),n},[]),o=new Map(r),i=[];return o?(o.forEach(function(e,t){i.push(n(e,t))}),i):[]}},{key:"merge",value:function(e,n,t){var r=Object.keys(n),o=new Object(e);return r.forEach(function(e,r){t&&t.indexOf(e)>=0||(o[e]=n[e])}),o}},{key:"reduce",value:function(e,n,t){if(e&&e!=={}){var r=Object.keys(e),o=r.reduce(function(n,t){var r=[t,e[t]];return n.push(r),n},[]),i=new Map(o);return i.forEach(function(e,r){t=n(t,e,r)}),t}}},{key:"anyEmpty",value:function(e,n){var t={isEmpty:!1,errors:[]};return e.forEach(function(e,r){n.forEach(function(n){typeValidator.isEmpty(e[n])&&(t.isEmpty=!0,t.errors.push({key:n,index:r,value:e[n]}))})}),t}},{key:"has",value:function(e,n){return Array.isArray(n)?this.hasSameArray(e,n):"object"===("undefined"==typeof n?"undefined":_typeof(n))?this.hasSameObject(e,n):e.indexOf(n)>=0}},{key:"hasSameObject",value:function(e,n){var t=!1;return e.forEach(function(e,r){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var o=Object.keys(e);o.forEach(function(r,o){t=e[r]===n[r]})}}),t}},{key:"hasSameArray",value:function(e,n){var t=!1;return e.forEach(function(e,r){Array.isArray(e)&&e.forEach(function(e,r){t=e===n[r]})}),t}},{key:"setValue",value:function(e,n,t){for(var r=n.split("."),o=e,i=0;i<r.length-1;i++){var u=r[i];u in o?o=o[u]:(o[u]={},o=o[u])}o[r[r.length-1]]=t}},{key:"getValueFromPath",value:function(e,n){var t=e.split("."),r=n,o={},i=void 0;return t.forEach(function(e,n){if(!typeValidator.isEmpty(e)){if(o=r[e],typeValidator.isEmpty(o))return void(i=o);i=o,r=o}}),i}},{key:"isUnique",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={isUnique:!0,errors:[]},r={},o=this;return n.forEach(function(n){r[n]=[],e.forEach(function(e,i){var u=o.has(r[n],e[n]);u?(t.errors.push({key:n,index:i,value:e[n]}),t.isUnique=!1):r[n].push(e[n])})}),t}}]),e}();

},{}]},{},[7]);
