!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=54)}([function(e,t,n){var r=n(10),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.LIBRARY="iVXjs",this.DELIMETER=":"}return o(e,[{key:"convention",value:function(){return this.LIBRARY}},{key:"addNames",value:function(e){var t=this;Object.keys(e).forEach(function(n,r){t[n]=t.convention(e[n])})}}]),e}();t.default=i},function(e,t,n){function r(e,t){var n=i(e,t);return o(n)?n:void 0}var o=n(30),i=n(33);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?c:a:s&&s in Object(e)?i(e):u(e)}var o=n(9),i=n(23),u=n(24),a="[object Null]",c="[object Undefined]",s=o?o.toStringTag:void 0;e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=t.TypeValidator=function(){function e(){r(this,e)}return i(e,[{key:"isObject",value:function(e){var t=void 0===e?"undefined":o(e);return null!=e&&("object"==t||"function"==t)}},{key:"isUndefined",value:function(e){return void 0===e||null===e}},{key:"isString",value:function(e){return"[object String]"===this.toString.call(e)}},{key:"isFunction",value:function(e){return e&&"[object Function]"===this.toString.call(e)}},{key:"isNumber",value:function(e){return!isNaN(e)}},{key:"isBoolean",value:function(e){return"boolean"==typeof e||"object"===(void 0===e?"undefined":o(e))&&"boolean"==typeof e.valueOf()}},{key:"isEmpty",value:function(e){var t=Object.prototype.hasOwnProperty,n=Array.isArray(e),r="string"==typeof e,o=n||r;if(o&&0===e.length)return!0;if(o&&e.length>0)return!1;if(!isNaN(e))return!1;if(void 0===e)return!0;if(null===e)return!0;for(var i in e)if(t.call(e,i))return!1;return!0}},{key:"toString",get:function(){return Object.prototype.toString}}]),e}(),a=new u;t.ObjectParsers=function(){function e(){r(this,e)}return i(e,[{key:"mapKeys",value:function(e,t){if(!e||e==={})return[];var n=Object.keys(e),r=n.reduce(function(t,n){var r=[n,e[n]];return t.push(r),t},[]),o=new Map(r),i=[];return o?(o.forEach(function(e,n){i.push(t(e,n))}),i):[]}},{key:"merge",value:function(e,t,n){var r=Object.keys(t),o=new Object(e);return r.forEach(function(e,r){n&&n.indexOf(e)>=0||(o[e]=t[e])}),o}},{key:"reduce",value:function(e,t,n){if(e&&e!=={}){var r=Object.keys(e),o=r.reduce(function(t,n){var r=[n,e[n]];return t.push(r),t},[]);return new Map(o).forEach(function(e,r){n=t(n,e,r)}),n}}},{key:"anyEmpty",value:function(e,t){var n={isEmpty:!1,errors:[]};return e.forEach(function(e,r){t.forEach(function(t){a.isEmpty(e[t])&&(n.isEmpty=!0,n.errors.push({key:t,index:r,value:e[t]}))})}),n}},{key:"has",value:function(e,t){return Array.isArray(t)?this.hasSameArray(e,t):"object"===(void 0===t?"undefined":o(t))?this.hasSameObject(e,t):e.indexOf(t)>=0}},{key:"hasSameObject",value:function(e,t){var n=!1;return e.forEach(function(e,r){if("object"===(void 0===e?"undefined":o(e))){Object.keys(e).forEach(function(r,o){n=e[r]===t[r]})}}),n}},{key:"hasSameArray",value:function(e,t){var n=!1;return e.forEach(function(e,r){Array.isArray(e)&&e.forEach(function(e,r){n=e===t[r]})}),n}},{key:"setValue",value:function(e,t,n){for(var r=t.split("."),o=e,i=0;i<r.length-1;i++){var u=r[i];u in o?o=o[u]:(o[u]={},o=o[u])}o[r[r.length-1]]=n}},{key:"getValueFromPath",value:function(e,t){var n=e.split("."),r=t,o={},i=void 0;return n.forEach(function(e,t){if(!a.isEmpty(e)){if(o=r[e],a.isEmpty(o))return void(i=o);i=o,r=o}}),i}},{key:"isUnique",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={isUnique:!0,errors:[]},r={},o=this;return t.forEach(function(t){r[t]=[],e.forEach(function(e,i){o.has(r[t],e[t])?(n.errors.push({key:t,index:i,value:e[t]}),n.isUnique=!1):r[t].push(e[t])})}),n}}]),e}()},function(e,t,n){function r(e){if(!i(e))return!1;var t=o(e);return t==a||t==c||t==u||t==s}var o=n(3),i=n(11),u="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(17),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n={CHANGE:"change",SUCCESS:"success",ERROR:"error",GO:"go",NOT_FOUND:"not-found",GET_STATE:"get-state",REQUEST_STATE:"request-state"};return e.addNames(n),e}return i(t,e),u(t,[{key:"convention",value:function(e){var n=this.DELIMETER;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+n+e}}]),t}(s.default);t.default=f},function(e,t,n){var r=n(0),o=r.Symbol;e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(22))},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),u=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(u),c=(new i.TypeValidator,Object.prototype.hasOwnProperty),s=function(){function e(t,n){r(this,e),this.experience=t,this.customEvaluator=n}return o(e,[{key:"setCustomEvaluator",value:function(e){Object.assign(this,{customEvaluator:customEvaluator})}},{key:"evaluate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},n=this,r=e.conditionOperator,o=void 0===r?"and":r,i=e.conditions,u=i.map(function(e,r){var o=e.key,i=e.is,u=e.value,c=e.type,s=void 0===c?"input":c,f=t(e);return!f&&n.customEvaluator&&(0,a.default)(n.customEvaluator)&&(f=n.customEvaluator(e)),!f&&n[o]&&(f=n[o](o,i,u)),!f&&n[s]&&(f=n[s](o,i,u)),f});return this[o](u)}},{key:"input",value:function(e,t,n){var r=this.experience,o=r.data[e];return!!this[t]&&this[t](o,n)}},{key:"and",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t,n){return e&&t},!0)}},{key:"or",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t,n){return e||t},!1)}},{key:"not",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t,n){return e&&!t},!0)}},{key:"lte",value:function(e,t){return!isNaN(e)&&!isNaN(t)&&new Number(e)<=new Number(t)}},{key:"lt",value:function(e,t){return!isNaN(e)&&!isNaN(t)&&new Number(e)<new Number(t)}},{key:"gte",value:function(e,t){return!isNaN(e)&&!isNaN(t)&&new Number(e)>=new Number(t)}},{key:"gt",value:function(e,t){return!isNaN(e)&&!isNaN(t)&&new Number(e)>new Number(t)}},{key:"equals",value:function(e,t){return e===t}},{key:"notEquals",value:function(e,t){return e!==t}},{key:"in",value:function(e,t){return e&&e.indexOf&&e.indexOf(t)>=0}},{key:"empty",value:function(e,t){if(null===e)return!0;if(Array.isArray(e)||"string"==typeof value)return!e.length;for(var n in e)if(c.call(e,n))return!1;return!0}}]),e}();t.default=s},function(e,t,n){function r(e){if(null==e)return!0;if(c(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||l(e)||u(e)))return!e.length;var t=i(e);if(t==p||t==v)return!e.size;if(f(e))return!o(e).length;for(var n in e)if(y.call(e,n))return!1;return!0}var o=n(25),i=n(28),u=n(38),a=n(40),c=n(41),s=n(42),f=n(12),l=n(44),p="[object Map]",v="[object Set]",d=Object.prototype,y=d.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.STATE="state",e}return i(t,e),u(t,[{key:"convention",value:function(){var e=this.DELIMETER,n=this.STATE;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+n}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(19),a=r(u),c=n(8),s=r(c);t.Actions=function(){function e(){o(this,e),this.data={},this.audioEventNames=new a.default,this.stateEventNames=new s.default}return i(e,[{key:"setElementClasses",value:function(e,t){var n=t.animationClasses,r=void 0===n?"":n,o=e.animationClasses,i=void 0===o?"":o,u=r.split(" "),a=i.split(" ");return e.className.indexOf("hide")>=0?void(e.className=e.className.replace("hide",r)):(a.forEach(function(t){t.length>0&&e.classList.remove(t)}),u.forEach(function(t){t.length>0&&e.classList.add(t)}),e.animationClasses=r,e)}},{key:"addClasses",value:function(e){var t=e.element,n=e.classes,r=void 0===n?"":n,o=this._getArrayFromAllSelector(t),i=this._getClassNames(r);o.forEach(function(e){i.forEach(function(t){e.classList.add(t)})})}},{key:"removeClasses",value:function(e){var t=e.element,n=e.classes,r=void 0===n?"":n,o=this._getArrayFromAllSelector(t),i=this._getClassNames(r);o.forEach(function(e){i.forEach(function(t){e.classList.remove(t)})})}},{key:"_getClassNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e.split?e.split(" "):[]}},{key:"_getArrayFromAllSelector",value:function(e){var t=document.querySelectorAll(e);return!t||t.length<=0?[]:Array.from(t)}},{key:"goToNextState",value:function(e){var t=this,n=e.next,r=this,o=this.rules(n);return new Promise(function(e,n){o&&(t.Bus.emit(r.stateEventNames.GO,{stateId:o}),e())})}},{key:"animateElement",value:function(e){var t=this,n=e.element,r=document.querySelectorAll(n);if(r&&!(r.length<=0)){r=Array.from(r),r.forEach(function(n,r){n=t.setElementClasses(n,e)});return new Promise(function(t,n){function o(n){r.forEach(function(t,n){i.forEach(function(n){t.animationClasses=e.animationClasses,t.removeEventListener(n,o)})}),t()}var i=["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","osanimationend","animationend"];i.forEach(function(e){r.forEach(function(t,n){t.addEventListener(e,o)})})})}}},{key:"goToState",value:function(e,t){e.state;t&&t.emit(this.stateEventNames.GO,e)}},{key:"playAudioClip",value:function(e){var t=this.audioEventNames,n=this;return e&&(this.Bus.emit(t.SET_UP,e),this.Bus.emit(t.PLAY)),this.Bus.on(t.TIME_UPDATE,function(t){t.id===e.id&&t.runCuePoints(n.processor)}),new Promise(function(r,o){n.Bus.once(t.ENDED,function(t){t.id===e.id&&n.processor.resolveActions(e.onEnd,function(){r()})})})}},{key:"setData",value:function(e){var t=e.key,n=e.value,r=this;return new Promise(function(e,o){r.data[t]=n,r.Log.debug("Current Experience Data",{group:!0,messages:Object.keys(r.data).map(function(e,t){return{message:e+":"+r.data[e],data:r.data[e]}})},r.data),e(r)})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(20),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n={ADD_PLAYING_CLASS:"add-playing-class",BUFFERING:"buffering",CAN_PLAY:"can-play",DISPOSE:"dispose",ENDED:"ended",GET_DURATION:"get-duration",MUTE:"mute",PAUSE:"pause",PAUSED:"paused",PLAY:"play",PLAYING:"playing",SEEK:"seek",SET_UP:"set-up",SET_DURATION:"set-duration",SET_VOLUME:"set-volume",VOLUME:"set-volume",TIME_UPDATE:"time-update",UNMUTE:"unmute"};return e.addNames(n),e}return i(t,e),u(t,[{key:"convention",value:function(e){var n=this.DELIMETER;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+n+e}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.AUDIO="audio",e}return i(t,e),u(t,[{key:"convention",value:function(){var e=this.DELIMETER,n=this.AUDIO;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+n}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Rules=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(15),a=r(u),c=n(16),s=r(c);t.Rules=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},n=arguments[1];o(this,e),Object.assign(this,{experience:t,evaluator:new a.default(t,n)})}return i(e,[{key:"processRules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return t?this.processStateRules(e):this.findMatchngRule(e,n)}},{key:"processStateRules",value:function(e){Array.isArray(e)||(e=[]);var t=this.findMatchngRule(e),n=t.stateId,r=void 0===n?"":n,o=t.route;return o||r}},{key:"findMatchngRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},n=this;return e.find(function(e){var r=e.rule;return n.getMatchingRule(r,t)})||{}}},{key:"getMatchingRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},n=this.evaluator;if((0,s.default)(e))return!0;var r=e.conditions,o=e.conditionOperator,i=void 0===o?"and":o;return r||(e.conditionOperator=i,e.conditions=[e]),n.evaluate(e,t)}},{key:"addEvaluator",value:function(e,t){this.evaluator[e]=t}},{key:"rules",get:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return e.processRules(t,n,r)}}}]),e}()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e){var t=u.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}var o=n(9),i=Object.prototype,u=i.hasOwnProperty,a=i.toString,c=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){function r(e){if(!o(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var o=n(12),i=n(26),u=Object.prototype,a=u.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(27),o=r(Object.keys,Object);e.exports=o},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(29),o=n(34),i=n(35),u=n(36),a=n(37),c=n(3),s=n(13),f=s(r),l=s(o),p=s(i),v=s(u),d=s(a),y=c;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||i&&"[object Promise]"!=y(i.resolve())||u&&"[object Set]"!=y(new u)||a&&"[object WeakMap]"!=y(new a))&&(y=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case v:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=y},function(e,t,n){var r=n(2),o=n(0),i=r(o,"DataView");e.exports=i},function(e,t,n){function r(e){return!(!u(e)||i(e))&&(o(e)?d:s).test(a(e))}var o=n(6),i=n(31),u=n(11),a=n(13),c=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,p=f.toString,v=l.hasOwnProperty,d=RegExp("^"+p.call(v).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return!!i&&i in e}var o=n(32),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(0),o=r["__core-js_shared__"];e.exports=o},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){var r=n(2),o=n(0),i=r(o,"Map");e.exports=i},function(e,t,n){var r=n(2),o=n(0),i=r(o,"Promise");e.exports=i},function(e,t,n){var r=n(2),o=n(0),i=r(o,"Set");e.exports=i},function(e,t,n){var r=n(2),o=n(0),i=r(o,"WeakMap");e.exports=i},function(e,t,n){var r=n(39),o=n(7),i=Object.prototype,u=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&u.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){function r(e){return i(e)&&o(e)==u}var o=n(3),i=n(7),u="[object Arguments]";e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){function r(e){return null!=e&&i(e.length)&&!o(e)}var o=n(6),i=n(14);e.exports=r},function(e,t,n){(function(e){var r=n(0),o=n(43),i="object"==typeof t&&t&&!t.nodeType&&t,u=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=u&&u.exports===i,c=a?r.Buffer:void 0,s=c?c.isBuffer:void 0,f=s||o;e.exports=f}).call(t,n(4)(e))},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){var r=n(45),o=n(46),i=n(47),u=i&&i.isTypedArray,a=u?o(u):r;e.exports=a},function(e,t,n){function r(e){return u(e)&&i(e.length)&&!!a[o(e)]}var o=n(3),i=n(14),u=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var r=n(10),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===o,a=u&&r.process,c=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=c}).call(t,n(4)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=n(49),f=r(s),l=n(50),p=r(l),v=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.ERROR=(new p.default).ERROR;var n={EXPERIENCE:"experience",PLATFORM_UNAVAILABLE:"platform-unavailable",EVENT_NOT_FIRED:"event-not-fired"};return e.addNames(n),e}return u(t,e),a(t,[{key:"convention",value:function(e){var n=this.ERROR,r=this.DELIMETER;return""+c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+r+n+r+e}}]),t}(f.default);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.IVX_IO="iVXio",e}return i(t,e),u(t,[{key:"convention",value:function(){var e=this.DELIMETER,n=this.IVX_IO;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+n}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=n(1),f=r(s),l=n(63),p=r(l),v=n(64),d=r(v),y=n(49),h=r(y),b=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.ERROR="error";var n={VIDEO:(new p.default).VIDEO,HTTP:(new d.default).HTTP,VALIDATION:"validation",SET_UP:"set-up",IVX_IO:(new h.default).IVX_IO,ACTION_PROCESSOR:"actions-processor",DEFAULT:"default",ASSERT:"assert",EXPERIENCE:"experience"};return e.addNames(n),e}return u(t,e),a(t,[{key:"convention",value:function(e){var n=this.ERROR,r=this.DELIMETER;return""+c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+r+n+r+e}}]),t}(f.default);t.default=b},,,,function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.module=g,e}Object.defineProperty(t,"__esModule",{value:!0}),t.iVXio=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(62),c=n(68),s=n(18),f=n(5),l=(n(70),n(55)),p=r(l),v=n(48),d=r(v),y=n(84),h=r(y),b=(new f.TypeValidator,new f.ObjectParsers),g=t.iVXio=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],i=arguments[3];o(this,e),this.experienceHostSettings=t,this.iVXjsSettings=n,this.Bus=r,this.iVXjsLog=i}return u(e,[{key:"enhance",value:function(){var e=this,t=this.experienceHostSettings,n=void 0===t?{}:t,r=this.iVXjsSettings,o=void 0===r?{}:r,i=new d.default,u=this;return new Promise(function(t,r){if("undefined"==typeof iVX)return window.setTimeout(function(){u.Bus.emit(i.PLATFORM_UNAVAILABLE,{})},100),void r();u.Bus.once(i.EXPERIENCE,function(e){r(e)}),iVX(n).then(function(f){if(!(f&&f.experience&&f.experience.story&&f.experience.story.data))return void window.setTimeout(function(){u.Bus.emit(i.PLATFORM_UNAVAILABLE,{})},100);var l=o.experience,v=void 0===l?{}:l,d=o.rules,y=(v.data,b.merge(new s.Actions,v)),h=b.merge(y,f.experience),g=new a.iVXioActions(h,e.iVXjsLog),m=f.experience.story.data;m.ui,m.validation;f.experience.story.data.metadata=f.experience.story.data.metadata?f.experience.story.data.metadata:{};var O=new c.iVXioRules(h,d).rules,j=new p.default(f.experience.story.data.states,f.experience.story.inputs,u,r,n.debug).states;h.debugHost=n.debug,h.whiteList=["self","http://ivx-xapi.*.inf-env.com/**","https://ivx-xapi.*.inf-env.com/**","https://xapi.ivx.io/**"],f.experience.story.data.states=j,f.experience.story.data.metadata.title=f.experience.story.data.metadata.title?f.experience.story.data.metadata.title:"iVX Story Player";var _={ui:o.ui,validation:o.validation,config:f.experience.story.data,experience:h,rules:O,actions:g};t(_)},function(e){u.Bus.emit(i.EXPERIENCE,e),r(e)})})}}]),e}();e.export=i,angular&&(0,h.default)()}).call(t,n(4)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(48),a=r(u),c=n(71),s=r(c),f=n(72),l=r(f),p=n(74),v=r(p),d=n(75),y=r(d),h=n(76),b=r(h),g=n(79),m=r(g),O=n(80),j=r(O),_=n(81),E=r(_),w=n(82),P=r(w),x=n(83),T=r(x),k=new a.default,I=function(){function e(t,n,r,i){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};o(this,e),this.rawStates=[].concat(t),this.storyInputs=Object.assign({},n),this.experience=r,this.reject=i,this.debug=u,this.debugCallBack=a}return i(e,[{key:"validateInputStates",value:function(e){var t=this;return e.map(function(e,n){if("input"===e.type){var r=e.inputs,o=void 0===r?[]:r;e.inputs=t.validateInputs(o,e,n)}return e})}},{key:"createRecommendedSettings",value:function(e){var t=this.createRecommendObject(e);e.types,e.options,e.attributes;return{message:"To support this input, it is recommend to create an input on the platform using these settings: \n"+this.createRecommendedReadout(t)+"\n        ",settings:t}}},{key:"createRecommendedReadout",value:function(e){var t=e.key,n=e.options,r=e.types,o=e.attributes,i=this,u="Input Key: "+t,a="\nRecommended Input Type"+(r.length>1?"s":"")+": "+r.join(", "),c=n.reduce(function(e,t){return e+"\n"+i.createObjectReadOut(t,[],"\n")},""),s=this.createObjectReadOut(o,["width","placeholder"],"\n");return""+u+a+(n.length>0?"\nOptions:"+c:"")+(s.length>0?"\nAttributes:\n"+s:"")}},{key:"createObjectReadOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Object.keys(e);return r.reduce(function(o,i,u){return t.indexOf(i)>=0?o:""+o+i+" : "+e[i]+(u<r.length-1?n:"")},"")}},{key:"createRecommendObject",value:function(e){var t=e.attributes,n=this.getRecommendedInputTypes(e.type),r=this.getOptions(e);return{key:e.name,types:n,options:r,attributes:t}}},{key:"getOptions",value:function(e){switch(e.type){case"options":return e.options;case"buttons":return e.buttons.map(function(e){return{value:e.value,display:"No Display Recommended"}});case"radio":return e.radioButtons.map(function(e){return{value:e.value,display:"No Display Recommended"}})}return[]}},{key:"getRecommendedInputTypes",value:function(e){return{text:["TextShort","TextMedium","TextLarge"],textarea:["TextArea"],email:["Email"],checkbox:["Checkbox"],buttons:["Options"],options:["Options"],radio:["Options"],number:["Number"],url:["Url"],date:["TextShort","TextMedium","TextLarge","Date"]}[e]}},{key:"validateInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=this.inputValidators,i=this.storyInputs,u=void 0===i?{}:i,a=this.experience,c=this.debug,s=this.debugCallBack,f=this;return e.map(function(e,i){var l=e.name,p=u[l];if(p){var v=p.display,d=o[v],y=f.globalAttributesSet(p,e);if(d)return new d(y,p).input}else{var h=n.name,b=n.id,g="\niVX.io Story input with key "+l+" can not be found:\nState Id : "+n.id+"\nState Name : "+h+"\nState Index : "+r+"\nInput Name: "+l+"\nInput Index: "+i+"\n                ",m=t.createRecommendedSettings(e);a.Bus&&!c&&a.Bus.emit(k.EXPERIENCE,{message:g}),a.iVXjsLog&&!c&&a.iVXjsLog.error({message:g},"EXPERIENCE"),a.iVXjsLog&&c&&a.iVXjsLog.warn(g),c||t.reject({message:g,info:{inputName:l,stateId:b,stateName:h,stateIndex:r,inputIndex:i},state:n}),c&&s&&s({message:g,info:{inputName:l,stateId:b,stateName:h,stateIndex:r,inputIndex:i},state:n,recommend:m})}return e})}},{key:"globalAttributesSet",value:function(e,t){var n=e.attributes,r=void 0===n?{}:n,o=r.required,i=void 0===o?"false":o,u=Object.assign({},t),a=u.attributes,c=void 0===a?{}:a,s=c.required,f=void 0!==s&&s;return u.attributes=Object.assign({},c,{required:"true"===i||f}),u}},{key:"states",get:function(){return this.validateInputStates(this.rawStates)}},{key:"inputValidators",get:function(){return{CascadingOptions:s.default,Checkbox:l.default,Email:v.default,Number:y.default,Options:b.default,TextArea:m.default,TextLarge:j.default,TextMedium:E.default,TextShort:P.default,Url:T.default}}}]),e}();t.default=I},,,,,,,function(t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.iVXioActions=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(48),s=o(c),f=r(65),l=o(f),p=r(66),v=o(p),d=new s.default;n.iVXioActions=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.default(!1,e.Bus);i(this,t),this.experience=e,this.iVXjsLog=n,this.eventNames=new l.default}return a(t,[{key:"animatePageElement",value:function(e){var t="";return t=e.targetID?"#"+e.targetID:e.element,this.experience.animateElement({element:t,animationClass:e.animation})}},{key:"formatDateForPlatform",value:function(e,t){switch(this.experience.story.inputs[e].display){case"Date":return t.getFullYear()+"-"+function(e){var t=(e+1)%13;return t>=10?t:"0"+t}(t.getMonth())+"-"+function(e){return e>=10?e:"0"+e}(t.getDate())}}},{key:"recordEvent",value:function(t){var n=this;if("object"===(void 0===t?"undefined":u(t))){var r=t.customEvent;try{return this.experience.recordEvent(r).then(function(){n.experience.Bus.emit(n.eventNames.RECORD_EVENT,t)},function(){n.experience.Bus.emit(d.EVENT_NOT_FIRED,t,e),n.iVXjsLog.error(e,"IVX_IO")})}catch(e){this.experience.Bus.emit(d.EVENT_NOT_FIRED,t,e),this.iVXjsLog.error(e,"IVX_IO")}}}},{key:"setConverted",value:function(e){var t=this;if("object"===(void 0===e?"undefined":u(e))){var n=e.label;try{return this.experience.setConverted(n).then(function(){t.experience.Bus.emit(t.eventNames.SET_CONVERTED,e)})}catch(t){this.experience.Bus.emit(d.EVENT_NOT_FIRED,e,t),this.iVXjsLog.error(t,"IVX_IO")}}}},{key:"setComplete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if("object"===(void 0===e?"undefined":u(e)))try{return this.experience.setComplete().then(function(){t.experience.Bus.emit(t.eventNames.SET_COMPLETE,e)})}catch(t){this.experience.Bus.emit(d.EVENT_NOT_FIRED,e,t),this.iVXjsLog.error(t,"IVX_IO")}}},{key:"setChildEntity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;try{var n=e.key;return this.experience.setChildEntity(n).then(function(){t.experience.Bus.emit(t.eventNames.SET_CHILD_ENTITY,e)})}catch(t){this.experience.Bus.emit(d.EVENT_NOT_FIRED,e,t),this.iVXjsLog.error(t,"IVX_IO")}}},{key:"setData",value:function(e){if("object"===(void 0===e?"undefined":u(e))){var t=e.key,n=e.value,r=this,o=this.experience.debugHost,i=void 0!==o&&o,a=void 0===this.experience.data[t]||null===this.experience.data[t];if(!i&&a)return this.experience.Bus.emit("iVXjs:iVXio:error:event-not-fired",e,{message:"iVXjs Error Message: Input not found"}),void this.iVXjsLog.error({message:"iVXjs Error Message: Input not found"},"IVX_IO");if(n instanceof Date)return n=this.formatDateForPlatform(t,n),this.experience.setData(t,n);try{return this.experience.setData(t,n).then(function(o){var u=r.experience.data;i&&(r.experience.data[t]=n),r.experience.Log.debug("Current Experience Data",{group:!0,messages:Object.keys(u).map(function(e,t){return{message:e+":"+u[e],data:u[e]}})},u),r.experience.Bus.emit(r.eventNames.SET_DATA,e)})}catch(t){this.experience.Bus.emit(d.EVENT_NOT_FIRED,e,t),this.iVXjsLog.error(t)}}}},{key:"setMilestone",value:function(t){var n=this;if("object"===(void 0===t?"undefined":u(t))){var r=t.milestone;try{return this.experience.setMilestone(r).then(function(){n.experience.Bus.emit(n.eventNames.SET_MILESTONE,t)},function(){n.experience.Bus.emit(d.EVENT_NOT_FIRED,t,e),n.iVXjsLog.error(e,"IVX_IO")})}catch(e){this.experience.Bus.emit(d.EVENT_NOT_FIRED,t,e),this.iVXjsLog.error(e,"IVX_IO")}}}}]),t}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.VIDEO="video",e}return i(t,e),u(t,[{key:"convention",value:function(){var e=this.DELIMETER,n=this.VIDEO;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+n}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.HTTP="http",e}return i(t,e),u(t,[{key:"convention",value:function(){var e=this.DELIMETER,n=this.HTTP;return""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+n}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=n(49),f=r(s),l=n(50),p=(r(l),function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n={RECORD_EVENT:"record-event",SET_COMPLETE:"set-complete",SET_CONVERTED:"set-converted",SET_MILESTONE:"set-milestone",SET_DATA:"set-data",SET_CHILD_ENTITY:"set-child-entity"};return e.addNames(n),e}return u(t,e),a(t,[{key:"convention",value:function(e){var n=(this.ERROR,this.DELIMETER);return""+c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+n+e}}]),t}(f.default));t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(67),c=r(a),s=n(50),f=r(s),l=function(){function e(t,n){o(this,e),this.show=t,this.LoggingMessages=new c.default,this.ErrorMessages=new f.default,this.Bus=n}return u(e,[{key:"setShow",value:function(e){this.show=e}},{key:"warn",value:function(e){var t=this.show,n=this.LoggingMessages,r=this.Bus,o=n.WARN,i={message:e,timestamp:new Date};t&&console.warn(o+": "+e),r.emit(o,i)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DEFAULT",n=(this.show,this.ErrorMessages),r=this.Bus,o=n[t],i=e.message,u=e.messages,a={message:i,type:o,error:e,timestamp:new Date};console.error(o+": "+i),u&&this.debug("Errors caused by the following data",{group:!0,messages:u}),r.emit(o,e),r.emit(c.default.ERROR,a)}},{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.show,o=this.LoggingMessages,i=this.Bus,u=o.DEBUG,a=this,c=t.group;if(void 0!==c&&c&&r){var s=t.messages;return console.groupCollapsed(u+": "+e),s.forEach(function(e){var t=e.title,n=e.message;t?(console.log(t),a.createMessage(n)):a.createMessage(n)}),console.groupEnd(),void i.emit(u,e,t,n)}r&&(console.log(u+":"+e),i.emit(u,e,{},n))}},{key:"log",value:function(e){var t=(this.show,this.LoggingMessages),n=this.Bus,r=t.LOG,o={message:e,timestamp:new Date};console.log(r+": "+e),n.emit(r,o)}},{key:"createMessage",value:function(e){null!==e&&"object"===(void 0===e?"undefined":i(e))||Array.isArray(e)?console.dir(e):console.log(e)}},{key:"trace",value:function(e){var t=this.show,n=this.LoggingMessages,r=this.Bus,o={stack:e,timestamp:new Date};t&&console.trace(e),r.emit(n.TRACE,o)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(c),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.LOGGING="log";var n={ERROR:"error",WARN:"warn",TRACE:"trace",LOG:"",DEBUG:"debug"};return e.addNames(n),e}return i(t,e),u(t,[{key:"convention",value:function(e){var n=this.DELIMETER,r=this.LOGGING;return e.length<=0?""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+n+r:""+a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"convention",this).call(this)+n+r+n+e}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.iVXioRules=void 0;var u=n(69),a=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(21);t.iVXioRules=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.evaluator=new a.default(e,n),i}return i(t,e),t}(c.Rules)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(15),c=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){function t(e,n){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return i(t,e),u(t,[{key:"entity",value:function(e,t,n){var r=this.experience.childEntityKey;return this[t](r,n)}},{key:"organization",value:function(e,t,n){var r=this.experience,o=r.organization,i=void 0===o?{}:o,u=i.data,a=void 0===u?{}:u,c=a[e];return this[t](c,n)}},{key:"storyEvents",value:function(e,t,n){var r=this.experience,o=void 0===r?{}:r,i=o.events,u=void 0===i?[]:i;return"none"===n?function(e,t,n){var r="fired"===e;return t.length<=0&&r}(t,u,o):!!this[t]&&this[t](n,u)}},{key:"fired",value:function(e){return void 0!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(function(t,n){return t===e})}},{key:"notFired",value:function(e){return void 0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(function(t,n){return t===e})}},{key:"progress",value:function(e,t,n){var r=this.experience,o=r.progress,i=r.milestone,u=r.story,a=u.progressMap,c=-1,s=-1;if(i&&i.length>0){var f=i[0].toLowerCase()+i.substring(1);s=a[f]?a[f]:-1}if(function(e){return"Started"===e||"Completed"===e||"Converted"===e}(o)){c=a[o[0].toLowerCase()+o.substring(1)]}n=n[0].toLowerCase()+n.substring(1);var l=a[n],p=c>s?c:s;return!!this[t]&&this[t](p,l)}}]),t}(c.default);t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.log=t}return o(e,[{key:"assert",value:function(e,t,n){var r=this.log,o=r.show;if(!e){var i={message:t+" is invalid: "+n+"."};if(o)throw this.log.error(i,"ASSERT"),new Error(i.message)}return e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=t,this.storyInputData=n}return o(e,[{key:"input",get:function(){var e=this.storyInputData,t=void 0===e?{}:e,n=this.jsonInputData,r=void 0===n?{}:n,o=Object.assign({},r),i=Object.assign({},t);return o.type="cascading-options",o.dataTree=i.dataTree,o}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(73),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData;return"buttons"===e.type?new u.default(e,t).input:(e.type="checkbox",e)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=(this.storyInputData,e.buttons),n=void 0===t?[]:t,r=!1,o=!1,i=n.reduce(function(e,t,n){var i=t.value,u="boolean"==typeof i&&!i;return"boolean"==typeof i&&i&&!o&&(e[0]=t,o=!0),u&&!r&&(e[1]=t,r=!0),e},[]);return o||(i[0]={value:!0,label:"True"}),r||(i[1]={value:!1,label:"False"}),e.buttons=i,e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData;this.storyInputData;return e.type="email",e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData,n=t.attributes,r=void 0===n?{}:n,o=e.attributes,i=void 0===o?{}:o,u=r.max,a=void 0===u?Number.MAX_SAFE_INTEGER:u,c=r.min,s=void 0===c?Number.MIN_SAFE_INTEGER:c,f=r.step,l=void 0===f?1:f,p=i.max,v=void 0===p?Number.MIN_SAFE_INTEGER:p,d=i.min,y=void 0===d?Number.MAX_SAFE_INTEGER:d,h=i.step,b=void 0===h?1:h,g=y>s,m=v<a,O=void 0!==l;return e.type="number",e.attributes=Object.assign({},e.attributes,{min:new Number(g?s:y).valueOf(),max:new Number(m?a:v).valueOf(),step:new Number(O?l:b).valueOf()}),e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(77),a=r(u),c=n(78),s=r(c),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.jsonInputData=t,this.storyInputData=n}return i(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData,n=e.type;if("buttons"===n)return new a.default(e,t).input;if("radio"===n)return new s.default(e,t).input;var r=t.options;return Object.assign({},e,{options:r,type:"options"})}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=t,this.storyInputData=n}return o(e,[{key:"input",get:function(){function e(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(function(t){return t.value===e.value})}var t=this.jsonInputData,n=void 0===t?{}:t,r=this.storyInputData,o=void 0===r?{}:r,i=n.buttons,u=void 0===i?[]:i,a=o.options,c=void 0===a?[]:a,s=c.map(function(t){var n=e(t,u);if(n)return n;var r=t.display;return{value:t.value,label:r}});return Object.assign({},n,{buttons:s,type:"buttons"})}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=t,this.storyInputData=n}return o(e,[{key:"input",get:function(){function e(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(function(t){return t.value===e.value})}var t=this.jsonInputData,n=void 0===t?{}:t,r=this.storyInputData,o=void 0===r?{}:r,i=n.radioButtons,u=void 0===i?[]:i,a=o.options,c=void 0===a?[]:a,s=c.map(function(t){var n=t.display,r=t.value,o=e(t,u);if(o){return Object.assign({},o)}return{value:r,label:n}});return Object.assign({},n,{radioButtons:s,type:"radio"})}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData,n=t.attributes,r=void 0===n?{}:n,o=e.attributes,i=void 0===o?{}:o,u=r.maxlength,a=void 0===u?1024:u,c=r.minlength,s=i.maxlength,f=void 0===s?1024:s,l=i.minlength,p=void 0===l?0:l;return e.type="textarea",e.attributes=Object.assign({},e.attributes,{maxlength:new Number(a<1024?a:f).valueOf(),minlength:new Number(void 0!==c?c:p).valueOf()}),e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData,n=t.attributes,r=void 0===n?{}:n,o=e.attributes,i=void 0===o?{}:o,u=r.maxlength,a=void 0===u?256:u,c=r.minlength,s=i.maxlength,f=void 0===s?256:s,l=i.minlength,p=void 0===l?0:l;return e.type="text",e.attributes=Object.assign({},e.attributes,{maxlength:new Number(a<256?a:f).valueOf(),minlength:new Number(void 0!==c?c:p).valueOf()}),e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData,n=t.attributes,r=void 0===n?{}:n,o=e.attributes,i=void 0===o?{}:o,u=r.maxlength,a=void 0===u?128:u,c=r.minlength,s=i.maxlength,f=void 0===s?128:s,l=i.minlength,p=void 0===l?0:l;return e.type="text",e.attributes=Object.assign({},e.attributes,{maxlength:new Number(a<128?a:f).valueOf(),minlength:new Number(void 0!==c?c:p).valueOf()}),e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData,t=this.storyInputData,n=t.attributes,r=void 0===n?{}:n,o=e.attributes,i=void 0===o?{}:o,u=r.maxlength,a=void 0===u?64:u,c=r.minlength,s=i.maxlength,f=void 0===s?64:s,l=i.minlength,p=void 0===l?0:l;return e.type="text",e.attributes=Object.assign({},e.attributes,{maxlength:new Number(a<64?a:f).valueOf(),minlength:new Number(void 0!==c?c:p).valueOf()}),e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.jsonInputData=Object.assign({},t),this.storyInputData=Object.assign({},n)}return o(e,[{key:"input",get:function(){var e=this.jsonInputData;this.storyInputData;return e.type="url",e}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(85),i=r(o),u=n(86),a=r(u),c=n(92),s=r(c),f=n(55),l=r(f),p=n(54);n(94),t.default=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.module=p.iVXio,e}angular.module("ivx-input-validator",[]).constant("validator",l.default);try{var t=angular.module("ivx-js");t.constant("iVXjs.data.iVXio",e),t.constant("iVXjsDataiVXio",e),t.constant("validator",l.default),t.constant("iVXjsDataiVXio",l.default),new a.default(t,{factoryFunctionCreator:i.default}),new s.default(t,{factoryFunctionCreator:i.default})}catch(e){console.warn("The iVXio Data Module is not attached to the iVXjs module. If this is correct, ignore this warning."),console.warn(e)}}},function(e,t,n){"use strict";function r(e){var t=e,n=t.$inject,r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat(n)))};return n.push(r),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),i=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function e(t,n){r(this,e),new i.default(t,n)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(88),u=r(i),a=n(89),c=r(a),s=n(90),f=r(s),l=n(91),p=r(l),v=function e(t,n){o(this,e),new u.default(t,n),new c.default(t,n),new f.default(t,n),new p.default(t,n)};t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=t.Directive=function e(t,n){r(this,e),this.link=function(e,t,r,o){function i(){return{eventName:"recordEvent",args:{customEvent:r.ivxRecordEvent}}}n.setup(e,t,r,i)}};o.$inject=["iVXjs","iVXjsActionTemplateService"];var i=function e(t,n){r(this,e);var i=n.factoryFunctionCreator;t.directive("ivxRecordEvent",i(o))};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=t.Directive=function e(t,n){r(this,e),this.link=function(e,t,r,o){function i(){return{eventName:"setComplete"}}n.setup(e,t,r,i)}};o.$inject=["iVXjs","iVXjsActionTemplateService"];var i=function e(t,n){r(this,e);var i=n.factoryFunctionCreator;t.directive("ivxSetCompleted",i(o))};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=t.Directive=function e(t,n){r(this,e),this.link=function(e,t,r,o){function i(){return{eventName:"setConverted",args:{label:r.ivxSetConverted}}}n.setup(e,t,r,i)}};o.$inject=["iVXjs","iVXjsActionTemplateService"];var i=function e(t,n){r(this,e);var i=n.factoryFunctionCreator;t.directive("ivxSetConverted",i(o))};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=t.Directive=function e(t,n){r(this,e),this.link=function(e,t,r,o){function i(){return{eventName:"setMilestone",args:{milestone:r.ivxSetMilestone}}}n.setup(e,t,r,i)}};o.$inject=["iVXjs","iVXjsActionTemplateService"];var i=function e(t,n){r(this,e);var i=n.factoryFunctionCreator;t.directive("ivxSetMilestone",i(o))};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(93),i=(function(e){e&&e.__esModule}(o),function e(t,n){r(this,e)});t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=t.Service=function(){function e(t){r(this,e)}return o(e,[{key:"setScopeExperience",value:function(e){}}]),e}();i.$inject=["iVXjs"];var u=function e(t,n){r(this,e);var o=n.factoryFunctionCreator;t.directive("ivxExperienceScope",o(i))};t.default=u},function(e,t,n){"use strict";n(95)},function(e,t,n){"use strict";var r=n(96),o=function(e){return e&&e.__esModule?e:{default:e}}(r);try{angular.module("ivx-js").config(["$provide",function(e){"ngInject";e.decorator("ivxExperienceScope",o.default)}])}catch(e){console.warn("The iVXio Data Module is not attached to the iVXjs module. If this is correct, ignore this warning."),console.warn(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=["$delegate","iVXjs",function(e,t){"ngInject";return e.setScopeExperience=function(e){if(t){var n=t.experience,r=void 0===n?{}:n,i={},u=r.data,a=void 0===u?{}:u,c=r.organization,s=void 0===c?{}:c,f=r.childEntityKey,l=void 0===f?"":f,p=s.data,v=void 0===p?{}:p,d=s.childEntityType,y=s.name,h=s.key,b=s.logo,g=void 0===b?{}:b;if(!(0,o.default)(l)){var m=s.entities,O=m.find(function(e){return e.key===l})||{};i=Object.assign({},O,{type:d})}return Object.assign(e,{experience:{data:a},organization:{data:v,entity:i,name:y,key:h,logo:g}})}},e}]}]);