(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var u=Object.getPrototypeOf(t);return null===u?void 0:e(u,r,n)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(n)},_audio=require("./audio.js"),_audio2=_interopRequireDefault(_audio),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this)),r={ADD_PLAYING_CLASS:"add-playing-class",BUFFERING:"buffering",CAN_PLAY:"can-play",DISPOSE:"dispose",ENDED:"ended",GET_DURATION:"get-duration",MUTE:"mute",PAUSE:"pause",PAUSED:"paused",PLAY:"play",PLAYING:"playing",SEEK:"seek",SET_UP:"set-up",SET_DURATION:"set-duration",SET_VOLUME:"set-volume",TIME_UPDATE:"time-update",UNMUTE:"unmute"};return e.addNames(r),e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(e){var r=this.DELIMETER;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+r+e}}]),t}(_audio2["default"]);exports["default"]=_class;

},{"./audio.js":2}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.AUDIO="audio",e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(){var e=this.DELIMETER,r=this.AUDIO;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+r}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./index.js":7}],3:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_video=require("./video.js"),_video2=_interopRequireDefault(_video),_http=require("./http.js"),_http2=_interopRequireDefault(_http),_iVXio=require("./iVXio.js"),_iVXio2=_interopRequireDefault(_iVXio),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));e.ERROR="error";var r={VIDEO:(new _video2["default"]).VIDEO,HTTP:(new _http2["default"]).HTTP,VALIDATION:"validation",SET_UP:"set-up",IVX_IO:(new _iVXio2["default"]).IVX_IO,DEFAULT:"default",ASSERT:"assert"};return e.addNames(r),e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(e){var r=this.ERROR,n=this.DELIMETER;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+n+r+n+e}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./http.js":4,"./iVXio.js":6,"./index.js":7,"./video.js":11}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.HTTP="http",e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(){var e=this.DELIMETER,r=this.HTTP;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+r}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./index.js":7}],5:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_get=function e(t,r,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,o)}if("value"in n)return n.value;var u=n.get;if(void 0!==u)return u.call(o)},_iVXio=require("./iVXio.js"),_iVXio2=_interopRequireDefault(_iVXio),_errors=require("./errors.js"),_errors2=_interopRequireDefault(_errors),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));e.ERROR=(new _errors2["default"]).ERROR;var r={EXPERIENCE:"experience",PLATFORM_UNAVAILABLE:"platform-unavailable",EVENT_NOT_FIRED:"event-not-fired"};return e.addNames(r),e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(e){var r=this.ERROR,o=this.DELIMETER;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+o+r+o+e}}]),t}(_iVXio2["default"]);exports["default"]=_class;

},{"./errors.js":3,"./iVXio.js":6}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.IVX_IO="iVXio",e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(){var e=this.DELIMETER,r=this.IVX_IO;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+r}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./index.js":7}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),_class=function(){function e(){_classCallCheck(this,e),this.LIBRARY="iVXjs",this.DELIMETER=":"}return _createClass(e,[{key:"convention",value:function(){return this.LIBRARY}},{key:"addNames",value:function(e){var n=this,t=Object.keys(e);t.forEach(function(t,a){n[t]=n.convention(e[t])})}}]),e}();exports["default"]=_class;

},{}],8:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));e.LOGGING="log";var r={ERROR:"error",WARN:"warn",TRACE:"trace",LOG:""};return e.addNames(r),e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(e){var r=this.DELIMETER,n=this.LOGGING;return e.length<=0?""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+r+n:""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+r+n+r+e}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./index.js":7}],9:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var u=Object.getPrototypeOf(t);return null===u?void 0:e(u,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},_state=require("./state.js"),_state2=_interopRequireDefault(_state),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this)),r={CHANGE:"change",SUCCESS:"success",ERROR:"error",GO:"go",NOT_FOUND:"not-found",GET_STATE:"get-state",REQUEST_STATE:"request-state"};return e.addNames(r),e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(e){var r=this.DELIMETER;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+r+e}}]),t}(_state2["default"]);exports["default"]=_class;

},{"./state.js":10}],10:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.STATE="state",e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(){var e=this.DELIMETER,r=this.STATE;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+r}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./index.js":7}],11:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},_index=require("./index.js"),_index2=_interopRequireDefault(_index),_class=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.VIDEO="video",e}return _inherits(t,e),_createClass(t,[{key:"convention",value:function(){var e=this.DELIMETER,r=this.VIDEO;return""+_get(Object.getPrototypeOf(t.prototype),"convention",this).call(this)+e+r}}]),t}(_index2["default"]);exports["default"]=_class;

},{"./index.js":7}],12:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iVXioActions=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),_iVXioErrors=require("../../../constants/iVXio.errors.js"),_iVXioErrors2=_interopRequireDefault(_iVXioErrors),_logging=require("../../../utilities/logging.js"),_logging2=_interopRequireDefault(_logging),iVXioErrors=new _iVXioErrors2["default"],iVXioActions=exports.iVXioActions=function(){function e(t){var r=arguments.length<=1||void 0===arguments[1]?new _logging2["default"](!1,t.Bus):arguments[1];_classCallCheck(this,e),this.experience=t,this.iVXjsLog=r}return _createClass(e,[{key:"animatePageElement",value:function(e){var t="";return t=e.targetID?"#"+e.targetID:e.element,this.experience.animateElement({element:t,animationClass:e.animation})}},{key:"formatDateForPlatform",value:function(e,t){function r(e){var t=(e+1)%13;return t>=10?t:"0"+t}function i(e){return e>=10?e:"0"+e}var n=this.experience.story.inputs,o=n[e],s=o.display;switch(s){case"Date":var a=t.getFullYear()+"-"+r(t.getMonth())+"-"+i(t.getDate());return a}}},{key:"recordEvent",value:function(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var t=e.customEvent;try{return this.experience.recordEvent(t)}catch(r){this.experience.Bus.emit(iVXioErrors.EVENT_NOT_FIRED,e,r),this.iVXjsLog.error(r,"IVX_IO")}}}},{key:"setConverted",value:function(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var t=e.label;try{return this.experience.setConverted(t)}catch(r){this.experience.Bus.emit(iVXioErrors.EVENT_NOT_FIRED,e,r),this.iVXjsLog.error(r,"IVX_IO")}}}},{key:"setComplete",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if("object"===("undefined"==typeof e?"undefined":_typeof(e)))try{return this.experience.setComplete()}catch(t){this.experience.Bus.emit(iVXioErrors.EVENT_NOT_FIRED,e,t),this.iVXjsLog.error(t,"IVX_IO")}}},{key:"setData",value:function(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var t=e.key,r=e.value;if("undefined"==typeof this.experience.data[t]||null===this.experience.data[t])return this.experience.Bus.emit("iVXjs:iVXio:error:event-not-fired",e,{message:"iVXjs Error Message: Input not found"}),void this.iVXjsLog.error({message:"iVXjs Error Message: Input not found"},"IVX_IO");if(r instanceof Date)return r=this.formatDateForPlatform(t,r),this.experience.setData(t,r);try{return this.experience.setData(t,r)}catch(i){this.experience.Bus.emit(iVXioErrors.EVENT_NOT_FIRED,e,i),this.iVXjsLog.error(i)}}}},{key:"setMilestone",value:function(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var t=e.milestone;try{return this.experience.setMilestone(t)}catch(r){this.experience.Bus.emit(iVXioErrors.EVENT_NOT_FIRED,e,r),this.iVXjsLog.error(r,"IVX_IO")}}}}]),e}();

},{"../../../constants/iVXio.errors.js":5,"../../../utilities/logging.js":30}],13:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_evaluator=require("../ivx-js/evaluator.js"),_evaluator2=_interopRequireDefault(_evaluator),_class=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,r))}return _inherits(t,e),_createClass(t,[{key:"storyEvents",value:function(e,t,r){function n(e,t,r){var n="fired"===e;return t.length<=0&&n}var o=this.experience,u=o.events;return"none"===r?n(t,u,o):this[t](r,u)}},{key:"fired",value:function(e,t){var r=t.find(function(t,r){return t===e});return"undefined"!=typeof r}},{key:"notFired",value:function(e,t){var r=t.find(function(t,r){return t===e});return"undefined"==typeof r}},{key:"progress",value:function(e,t,r){function n(e){return"Started"===e||"Completed"===e||"Converted"===e}var o=this.experience,u=o.progress,i=o.milestone,s=o.story,a=s.progressMap,l=-1,f=-1;if(i&&i.length>0){var c=i[0].toLowerCase()+i.substring(1);f=a[c]?a[c]:-1}if(n(u)){var p=u[0].toLowerCase()+u.substring(1);l=a[p]}r=r[0].toLowerCase()+r.substring(1);var v=a[r],_=l>f?l:f;return this[t](_,v)}}]),t}(_evaluator2["default"]);exports["default"]=_class;

},{"../ivx-js/evaluator.js":27}],14:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function initializeiVXIO(e){return e.module=iVXio,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iVXio=void 0;var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}}(),_actions=require("./actions.js"),_rules=require("./rules.js"),_actions2=require("../ivx-js/actions.js"),_typeParsers=require("../../../utilities/type-parsers.js"),_asserts=require("../../../utilities/asserts.js"),_index=require("./input-validators/index.js"),_index2=_interopRequireDefault(_index),_iVXioErrors=require("../../../constants/iVXio.errors.js"),_iVXioErrors2=_interopRequireDefault(_iVXioErrors),typeValidator=new _typeParsers.TypeValidator,objectParser=new _typeParsers.ObjectParsers,iVXio=exports.iVXio=function(){function e(i){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments[2],s=arguments[3];_classCallCheck(this,e),this.experienceHostSettings=i,this.iVXjsSettings=t,this.Bus=r,this.iVXjsLog=s}return _createClass(e,[{key:"enhance",value:function(){var e=this,i=this.experienceHostSettings,t=void 0===i?{}:i,r=this.iVXjsSettings,s=void 0===r?{}:r,n=new _iVXioErrors2["default"],o=this,a=new Promise(function(i,r){return"undefined"==typeof iVX?(window.setTimeout(function(){o.Bus.emit(n.PLATFORM_UNAVAILABLE,{})},100),void r()):void iVX(t).then(function(t){var r=s.experience,n=void 0===r?{}:r,o=s.rules,a=objectParser.merge(new _actions2.Actions,n),u=objectParser.merge(a,t.experience),c=new _actions.iVXioActions(u,e.iVXjsLog),l=t.experience.story.data,p=(l.ui,l.validation,new _rules.iVXioRules(u,o).rules),d=new _index2["default"](t.experience.story.data.states,t.experience.story.inputs).states;u.whiteList=["self","http://ivx-xapi.*.inf-env.com/**","https://ivx-xapi.*.inf-env.com/**","https://xapi.ivx.io/**"],t.experience.story.data.states=d;var f={ui:s.ui,validation:s.validation,config:t.experience.story.data,experience:u,rules:p,actions:c};i(f)},function(e){o.Bus.emit(n.EXPERIENCE,e),r(e)})});return a}}]),e}();module["export"]=initializeiVXIO,angular&&angular.module("ivx-js")&&angular.module("ivx-js").constant("iVXjs.data.iVXio",initializeiVXIO);

},{"../../../constants/iVXio.errors.js":5,"../../../utilities/asserts.js":29,"../../../utilities/type-parsers.js":31,"../ivx-js/actions.js":26,"./actions.js":12,"./input-validators/index.js":17,"./rules.js":25}],15:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_class=function(){function e(t){_classCallCheck(this,e),this.inputData=t,this.TYPE="checkbox"}return _createClass(e,[{key:"setButtonInput",value:function(e){var t=e.buttons,n=void 0===t?[]:t,a=!1,r=!1,u=n.reduce(function(e,t,n){var u=t.value,o="boolean"==typeof u&&!u,s="boolean"==typeof u&&u;return s&&!r&&(e[0]=t,r=!0),o&&!a&&(e[1]=t,a=!0),e},[]);return r||(u[0]={value:!0,label:"True"}),a||(u[1]={value:!1,label:"False"}),e.buttons=u,e}},{key:"input",get:function(){var e=this.inputData,t=this.TYPE,n=JSON.parse(JSON.stringify(e)),a=n.type;return"buttons"===a?this.setButtonInput(e):(n.type=t,n)}}]),e}();exports["default"]=_class;

},{}],16:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_class=function(){function e(t){_classCallCheck(this,e),this.inputData=t,this.TYPE="email"}return _createClass(e,[{key:"input",get:function(){var e=this.inputData,t=this.TYPE,n=JSON.parse(JSON.stringify(e));return n.type=t,n}}]),e}();exports["default"]=_class;

},{}],17:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var u=t[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,r,u){return r&&e(t.prototype,r),u&&e(t,u),t}}(),_textShort=require("./text-short.js"),_textShort2=_interopRequireDefault(_textShort),_textMedium=require("./text-medium.js"),_textMedium2=_interopRequireDefault(_textMedium),_textLarge=require("./text-large.js"),_textLarge2=_interopRequireDefault(_textLarge),_textarea=require("./textarea.js"),_textarea2=_interopRequireDefault(_textarea),_number=require("./number.js"),_number2=_interopRequireDefault(_number),_email=require("./email.js"),_email2=_interopRequireDefault(_email),_url=require("./url.js"),_url2=_interopRequireDefault(_url),_checkbox=require("./checkbox.js"),_checkbox2=_interopRequireDefault(_checkbox),_options=require("./options.js"),_options2=_interopRequireDefault(_options),_class=function(){function e(t,r){_classCallCheck(this,e),this.rawStates=JSON.parse(JSON.stringify(t)),this.storyInputs=r,this.states=this.validateInputStates(this.rawStates)}return _createClass(e,[{key:"validateInputStates",value:function(e){var t=this;return e.map(function(e,r){if("input"===e.type){var u=e.inputs;e.inputs=t.validateInputs(u)}return e})}},{key:"validateInputs",value:function(e){var t=this.inputValidators,r=this.storyInputs;return e.map(function(e,u){var a=e.name,i=r[a],n=i.display,s=t[n];return s?new s(e,i).input:e})}},{key:"inputValidators",get:function(){return{TextShort:_textShort2["default"],TextMedium:_textMedium2["default"],TextLarge:_textLarge2["default"],TextArea:_textarea2["default"],Number:_number2["default"],Email:_email2["default"],Url:_url2["default"],Checkbox:_checkbox2["default"],Options:_options2["default"]}}}]),e}();exports["default"]=_class;

},{"./checkbox.js":15,"./email.js":16,"./number.js":18,"./options.js":19,"./text-large.js":20,"./text-medium.js":21,"./text-short.js":22,"./textarea.js":23,"./url.js":24}],18:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),_class=function(){function t(e,a){_classCallCheck(this,t);var i=a.attributes,r=void 0===i?{}:i,s=r.max,n=void 0===s?Number.MAX_SAFE_INTEGER:s,u=r.min,o=void 0===u?Number.MIN_SAFE_INTEGER:u,c=r.step,l=void 0===c?1:c;this.inputData=e,this.MIN=parseInt(o),this.STEP=parseInt(l),this.MAX=parseInt(n),this.TYPE="number"}return _createClass(t,[{key:"input",get:function(){var t=this.inputData,e=this.TYPE,a=this.MIN,i=this.MAX,r=this.STEP,s=JSON.parse(JSON.stringify(t)),n=s.attributes,u=void 0===n?{}:n,o=u.min,c=u.max,l=u.step;return s.type=e,s.attributes.min=o>=a?o:a,s.attributes.max=i>=c?c:i,s.attributes.step=l?l:r,s}}]),t}();exports["default"]=_class;

},{}],19:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_class=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t),this.inputData=e,this.TYPE="options",this.OPTIONS=n.options}return _createClass(t,[{key:"setButtonInput",value:function(t){var e=t.buttons,n=void 0===e?[]:e,r=this.OPTIONS,u=n.reduce(function(t,e,n){var u=e.value,s=r.find(function(t,e){return t.value===u});return s&&t.push(e),t},[]);return t.buttons=u,t}},{key:"input",get:function(){var t=this.inputData,e=this.TYPE,n=this.OPTIONS,r=t.type;return"buttons"===r?this.setButtonInput(t):(t.type=e,t.options=n,t)}}]),t}();exports["default"]=_class;

},{}],20:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),_class=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t);var a=n.attributes,r=void 0===a?{}:a,i=r.minlength,s=void 0===i?0:i,l=r.maxlength,u=void 0===l?256:l;this.inputData=e,this.MAX_LENGTH=parseInt(u),this.MIN_LENGTH=parseInt(s)}return _createClass(t,[{key:"input",get:function(){var t=this.inputData,e=this.MAX_LENGTH,n=this.MIN_LENGTH,a=JSON.parse(JSON.stringify(t));return a.attributes.maxlength=e,a.attributes.minlength=n,a}}]),t}();exports["default"]=_class;

},{}],21:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),_class=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t);var a=n.attributes,r=void 0===a?{}:a,i=r.minlength,s=void 0===i?0:i,l=r.maxlength,u=void 0===l?128:l;this.inputData=e,this.MAX_LENGTH=parseInt(u),this.MIN_LENGTH=parseInt(s)}return _createClass(t,[{key:"input",get:function(){var t=this.inputData,e=this.MAX_LENGTH,n=this.MIN_LENGTH,a=JSON.parse(JSON.stringify(t));return a.attributes.maxlength=e,a.attributes.minlength=n,a}}]),t}();exports["default"]=_class;

},{}],22:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),_class=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t);var a=n.attributes,r=void 0===a?{}:a,i=r.minlength,s=void 0===i?0:i,l=r.maxlength,u=void 0===l?64:l;this.inputData=e,this.MAX_LENGTH=parseInt(u),this.MIN_LENGTH=parseInt(s)}return _createClass(t,[{key:"input",get:function(){var t=this.inputData,e=this.MAX_LENGTH,n=this.MIN_LENGTH,a=JSON.parse(JSON.stringify(t));return a.attributes.maxlength=e,a.attributes.minlength=n,a}}]),t}();exports["default"]=_class;

},{}],23:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),_class=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t);var a=n.attributes,r=void 0===a?{}:a,i=r.minlength,s=void 0===i?0:i,l=r.maxlength,u=void 0===l?1024:l;this.inputData=e,this.MAX_LENGTH=parseInt(u),this.MIN_LENGTH=parseInt(s),this.TYPE="textarea"}return _createClass(t,[{key:"input",get:function(){var t=this.inputData,e=this.MAX_LENGTH,n=this.MIN_LENGTH,a=this.TYPE,r=JSON.parse(JSON.stringify(t));return r.attributes.maxlength=e,r.attributes.minlength=n,r.type=a,r}}]),t}();exports["default"]=_class;

},{}],24:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_class=function(){function e(t){_classCallCheck(this,e),this.inputData=t,this.TYPE="url"}return _createClass(e,[{key:"input",get:function(){var e=this.inputData,t=this.TYPE,n=JSON.parse(JSON.stringify(e));return n.type=t,n}}]),e}();exports["default"]=_class;

},{}],25:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iVXioRules=void 0;var _evaluator=require("./evaluator.js"),_evaluator2=_interopRequireDefault(_evaluator),_rules=require("../ivx-js/rules.js"),iVXioRules=exports.iVXioRules=function(e){function t(e,r){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,r));return o.evaluator=new _evaluator2["default"](e,r),o}return _inherits(t,e),t}(_rules.Rules);

},{"../ivx-js/rules.js":28,"./evaluator.js":13}],26:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Actions=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_audioEvents=require("../../../constants/audio.events.js"),_audioEvents2=_interopRequireDefault(_audioEvents),_stateEvents=require("../../../constants/state.events.js"),_stateEvents2=_interopRequireDefault(_stateEvents),Actions=exports.Actions=function(){function e(){_classCallCheck(this,e),this.data={},this.audioEventNames=new _audioEvents2["default"],this.stateEventNames=new _stateEvents2["default"]}return _createClass(e,[{key:"setElementClasses",value:function(e,t){var n=t.animationClasses,a=void 0===n?"":n,s=e.animationClass;return e.className.indexOf(a)>=0?void 0:e.className.indexOf("hide")>=0?void(e.className=e.className.replace("hide",a)):(s&&(e.className=e.className.replace(s,"")),e.animationClass=a,e.className=e.className+" "+a,e)}},{key:"goToNextState",value:function(e){var t=this,n=e.next,a=this,s=this.rules(n),i=new Promise(function(e,n){s&&(t.Bus.emit(a.stateEventNames.GO,{stateId:s}),e())});return i}},{key:"animateElement",value:function(e){var t=this,n=e.element,a=document.querySelectorAll(n);if(a&&!(a.length<=0)){a=Array.from(a),a.forEach(function(n,a){n=t.setElementClasses(n,e)});var s=new Promise(function(t,n){function s(n){a.forEach(function(t,n){i.forEach(function(n){t.animationClass=e.animationClasses,t.removeEventListener(n,s)})}),t()}var i=["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","osanimationend","animationend"];i.forEach(function(e){a.forEach(function(t,n){t.addEventListener(e,s)})})});return s}}},{key:"goToState",value:function(e,t){e.state;t&&t.emit(this.stateEventNames.GO,e)}},{key:"playAudioClip",value:function(e){var t=this.audioEventNames,n=this;e&&(this.Bus.emit(t.SET_UP,e),this.Bus.emit(t.PLAY)),this.Bus.on(t.TIME_UPDATE,function(t){t.id===e.id&&t.runCuePoints(n.processor)});var a=new Promise(function(a,s){n.Bus.once(t.ENDED,function(t){t.id===e.id&&n.processor.resolveActions(e.onEnd,function(){a()})})});return a}},{key:"setData",value:function(e){var t=e.key,n=e.value,a=this,s=new Promise(function(e,s){a.data[t]=n,e(a)});return s}}]),e}();

},{"../../../constants/audio.events.js":1,"../../../constants/state.events.js":9}],27:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(n,t,u){return t&&e(n.prototype,t),u&&e(n,u),n}}(),_class=function(){function e(n,t){_classCallCheck(this,e),this.experience=n,this.customEvaluator=t}return _createClass(e,[{key:"evaluate",value:function(e){var n=this,t=e.conditionOperator,u=void 0===t?"and":t,r=e.conditions,a=r.map(function(e,t){var u=e.key,r=e.is,a=e.value,i=e.type,o=void 0===i?"input":i;return n.customEvaluator&&n.customEvaluator(e)?n.customEvaluator(e):n[u]?n[u](u,r,a):n[o](u,r,a)});return this[u](a)}},{key:"input",value:function(e,n,t){var u=this.experience,r=u.data[e];return this[n](r,t)}},{key:"and",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.reduce(function(e,n,t){return e&&n},!0)}},{key:"or",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.reduce(function(e,n,t){return e||n},!1)}},{key:"not",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.reduce(function(e,n,t){return e&&!n},!0)}},{key:"lte",value:function(e,n){return isNaN(e)||isNaN(n)?!1:new Number(e)<=new Number(n)}},{key:"lt",value:function(e,n){return isNaN(e)||isNaN(n)?!1:new Number(e)<new Number(n)}},{key:"gte",value:function(e,n){return isNaN(e)||isNaN(n)?!1:new Number(e)>=new Number(n)}},{key:"gt",value:function(e,n){return isNaN(e)||isNaN(n)?!1:new Number(e)>new Number(n)}},{key:"equals",value:function(e,n){return e===n}},{key:"notEquals",value:function(e,n){return e!==n}},{key:"in",value:function(e,n){return n.indexOf(e)>=0}}]),e}();exports["default"]=_class;

},{}],28:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rules=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_evaluator=require("./evaluator.js"),_evaluator2=_interopRequireDefault(_evaluator),_typeParsers=require("../../../utilities/type-parsers.js"),typeValidator=new _typeParsers.TypeValidator,Rules=exports.Rules=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{data:{}}:arguments[0],r=arguments[1];_classCallCheck(this,e),this.experience=t,this.evaluator=new _evaluator2["default"](t,r)}return _createClass(e,[{key:"processRules",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this,r=e.find(function(e){var r=e.rule;if(typeValidator.isEmpty(r))return!0;var a=r.conditions,n=r.conditionOperator,o=void 0===n?"and":n;return a||(r.conditionOperator=o,r.conditions=[r]),t.evaluator.evaluate(r)});return r?r.stateId:""}},{key:"rules",get:function(){var e=this;return function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.processRules(t)}}}]),e}();

},{"../../../utilities/type-parsers.js":31,"./evaluator.js":27}],29:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),_class=function(){function e(r){_classCallCheck(this,e),this.log=r}return _createClass(e,[{key:"assert",value:function(e,r,t){var a=this.log,n=a.show;if(!e){var s={message:r+" is invalid: "+t+"."};if(n)throw this.log.error(s,"ASSERT"),new Error(s.message)}return e}}]),e}();exports["default"]=_class;

},{}],30:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(s,t,r){return t&&e(s.prototype,t),r&&e(s,r),s}}(),_logging=require("../constants/logging.js"),_logging2=_interopRequireDefault(_logging),_errors=require("../constants/errors.js"),_errors2=_interopRequireDefault(_errors),_class=function(){function e(s,t){_classCallCheck(this,e),this.show=s,this.LoggingMessages=new _logging2["default"],this.ErrorMessages=new _errors2["default"],this.Bus=t}return _createClass(e,[{key:"warn",value:function(e){var s=this.show,t=this.LoggingMessages,r=this.Bus,n=t.WARN,o={message:e,timestamp:new Date};s&&console.warn(n+": "+e),r.emit(n,o)}},{key:"error",value:function(e){var s=arguments.length<=1||void 0===arguments[1]?"DEFAULT":arguments[1],t=(this.show,this.ErrorMessages),r=this.Bus,n=t[s],o=e.message,a={message:o,type:n,error:e,timestamp:new Date};console.error(n+": "+o),r.emit(n,e),r.emit(_logging2["default"].ERROR,a)}},{key:"debug",value:function(e){var s=this.show;s&&this.log("DEBUG: "+e)}},{key:"log",value:function(e){var s=(this.show,this.LoggingMessages),t=this.Bus,r=s.LOG,n={message:e,timestamp:new Date};console.log(r+": "+e),t.emit(r,n)}},{key:"trace",value:function(e){var s=this.show,t=this.LoggingMessages,r=this.Bus,n={stack:e,timestamp:new Date};s&&console.trace(e),r.emit(t.TRACE,n)}}]),e}();exports["default"]=_class;

},{"../constants/errors.js":3,"../constants/logging.js":8}],31:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),TypeValidator=exports.TypeValidator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isUndefined",value:function(e){return void 0===e||null===e}},{key:"isString",value:function(e){return"[object String]"===this.toString.call(e)}},{key:"isNumber",value:function(e){return!isNaN(e)}},{key:"isBoolean",value:function(e){return"boolean"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"boolean"==typeof e.valueOf()}},{key:"isEmpty",value:function(e){var t=Object.prototype.hasOwnProperty,n=Array.isArray(e),r="string"==typeof e,o=n||r;if(o&&0===e.length)return!0;if(o&&e.length>0)return!1;if(!isNaN(e))return!1;if(void 0===e)return!0;if(null===e)return!0;for(var a in e)if(t.call(e,a))return!1;return!0}},{key:"toString",get:function(){return Object.prototype.toString}}]),e}(),typeValidator=new TypeValidator,ObjectParsers=exports.ObjectParsers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"mapKeys",value:function(e,t){if(!e||e==={})return[];var n=Object.keys(e),r=n.reduce(function(t,n){var r=[n,e[n]];return t.push(r),t},[]),o=new Map(r),a=[];return o?(o.forEach(function(e,n){a.push(t(e,n))}),a):[]}},{key:"merge",value:function(e,t,n){var r=Object.keys(t),o=new Object(e);return r.forEach(function(e,r){n&&n.indexOf(e)>=0||(o[e]=t[e])}),o}},{key:"reduce",value:function(e,t,n){if(e&&e!=={}){var r=Object.keys(e),o=r.reduce(function(t,n){var r=[n,e[n]];return t.push(r),t},[]),a=new Map(o);return a.forEach(function(e,r){n=t(n,e,r)}),n}}},{key:"anyEmpty",value:function(e,t){var n={isEmpty:!1,errors:[]};return e.forEach(function(e,r){t.forEach(function(t){typeValidator.isEmpty(e[t])&&(n.isEmpty=!0,n.errors.push({key:t,index:r,value:e[t]}))})}),n}},{key:"has",value:function(e,t){return Array.isArray(t)?this.hasSameArray(e,t):"object"===("undefined"==typeof t?"undefined":_typeof(t))?this.hasSameObject(e,t):e.indexOf(t)>=0}},{key:"hasSameObject",value:function(e,t){var n=!1;return e.forEach(function(e,r){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var o=Object.keys(e);o.forEach(function(r,o){n=e[r]===t[r]})}}),n}},{key:"hasSameArray",value:function(e,t){var n=!1;return e.forEach(function(e,r){Array.isArray(e)&&e.forEach(function(e,r){n=e===t[r]})}),n}},{key:"setValue",value:function(e,t,n){for(var r=t.split("."),o=e,a=0;a<r.length-1;a++){var i=r[a];i in o?o=o[i]:(o[i]={},o=o[i])}o[r[r.length-1]]=n}},{key:"getValueFromPath",value:function(e,t){var n=e.split("."),r=t,o={},a=void 0;return n.forEach(function(e,t){if(!typeValidator.isEmpty(e)){if(o=r[e],typeValidator.isEmpty(o))return void(a=o);a=o,r=o}}),a}},{key:"isUnique",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n={isUnique:!0,errors:[]},r={},o=this;return t.forEach(function(t){r[t]=[],e.forEach(function(e,a){var i=o.has(r[t],e[t]);i?(n.errors.push({key:t,index:a,value:e[t]}),n.isUnique=!1):r[t].push(e[t])})}),n}}]),e}();

},{}]},{},[14]);
